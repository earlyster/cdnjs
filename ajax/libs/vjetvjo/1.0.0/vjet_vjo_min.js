(function(o){function F(e,A){function m(a,b,c){this._needs=[];this._protos=this._props=null;this._satisfies=[];this._mixins=[];this._inherits=[];this._inits=this._scopeForGlobals=this._globals=null;this._expects=[];this._completed=!1;this._isInner=a?!1:!0;this._name=a;this._kind=b;this._options={autoConstruct:!0};this._isMetaType=!1;this.init(c);this.setup()}function p(a){function b(a,b){if(b&&typeof b=="object"){var h=!0,k;for(k in b)h=!1,M[k]||(a[k]=b[k]);return h}}this.vj$={_vjType:"mtype",_class:a,
_meta:{}};this._props=null;this._protos={};this._expects="";this._satisfiers=[];this.needs=function(){return l.needs.apply(this,arguments)};this.props=function(a){var d=this._props||{};if(!b(d,a,this.vj$)&&!this._props)this._props=d;return this};this.protos=function(a){if(a&&a.constructs)throw"mtype cannot have constructs block";b(this._protos,a,this.vj$);return this};this.expects=function(a){this._expects=e.getType(a);return this};this.satisfies=function(a){var b=[],b=a instanceof Array?a:[a];t(b,
function(a){this.needs(w(a));this._satisfiers.push(a)},this);return this};this.endType=function(){this.vj$._class&&y.load(this.vj$._class);return this};return this}function s(a,b){if(a&&a.vj$&&a.vj$._vjType)if(x(a))return!0;else if(a.vj$._vjType==="mtype"&&!b)return!0;return!1}function o(a,b){for(var c=a._satisfied,d=0;d<c.length;d++){var h;a:{h=b;var k=c[d];if(h===k)h=!0;else{var j=m.getById(k.vj$._meta._metaId),k=void 0;if(j&&(k=j._inherits))for(j=0;j<k.length;j++){var z=w(k[j]);if(h===e.getType(z)){h=
!0;break a}}h=!1}}if(h)return!0}return!1}function C(a,b,c){if(!a)return null;var d=B[a];if(d)return d;var d=a.split("."),h=d.length;if(b)d={pkg:{className:d[h-1]}};else{(b=c)||(b=d[0]=="vjo"?N:this);for(c=0;c<h-1;c++){var k=d[c],e=b[k];e||(b[k]=e={});b=e}d={pkg:b,className:h>0?d[h-1]:""}}return B[a]=d}function f(a){var b=B[a];b&&delete b.pkg[b.className];var a=a.split("."),c=a.length,b=[],d=a[0]=="vjo"?N:this;b[0]=d;for(var h=0;h<c-1;h++)d=d[a[h]],b[h+1]=d;for(h=b.length-1;h>0;h--){var c=!0,k;for(k in b[h])if(k!=
"undefined"){c=!1;break}c&&(b[h-1]==this?eval("delete names[i-1]"):delete b[h-1][a[h-1]])}}function q(a,b){return a.apply(this,b)}function Q(){if(!x(e.Enum)){var a=e.ctype("vjo.Enum").props({from:function(){if(arguments.length==0||arguments.length>2)return this._nativeValueOf.apply(this,arguments);var a=arguments[0];if(arguments.length==2){if(a=arguments[1]){var c=arguments[0];try{for(var d=c.getName();d.indexOf("$")>0;)d=d.replace("$",".");var h=eval(d);if(h[a])return h[a]}catch(k){}}throw"No enum const "+
arguments[0].getName()+"."+a;}else if(this[a])return this[a];throw"No enum const "+a;}}).protos({_name:null,_ord:-1,constructs:function(){throw"cannot instantiate 'vjo.Enum'";},name:function(){return this._name},ordinal:function(){return this._ord},compareTo:function(a){if(a==null)throw"compare to Etype value cannot be null";return this.ordinal()-a.ordinal()},equals:function(a){return this===a},getDeclaringClass:function(){return this.getClass()}}).endType();a._nativeValueOf=a.valueOf;a.valueOf=e.Enum.from;
K["vjo.Enum"]=!0;O["vjo.Enum"]=!0}}function G(){var a=clz=this.vj$._class,b=a.lastIndexOf(".");b!=-1&&(clz=a.substring(b+1));if(this.vj$[clz])return this.vj$[clz].clazz;return null}function D(a){if(a._class){a=a._meta;if(a.s_inners)for(var b in a.s_inners){if(a.s_inners[b].vj$._vjType=="etype")for(var c=0;c<a.s_inners[b]._enums.length;c++)a.s_inners[b]._enums[c].vj$=a.s_inners[b].vj$,D(a.s_inners[b]._enums[c].vj$);D(a.s_inners[b].vj$)}if(a._inners)for(b in a._inners){if(a._inners[b].vj$._vjType==
"etype"){if(!a._inners[b].vj$._class)a._inners[b].clazz._name=a._inners[b].vj$._class=a._class+"."+b;for(c=0;c<a._inners[b]._enums.length;c++)a._inners[b]._enums[c].vj$=a._inners[b].vj$,D(a._inners[b]._enums[c].vj$)}D(a._inners[b].vj$)}}}function v(a,b){for(var c in b){var d=b[c];d!==void 0&&(a[c]=d)}if(b.toString!=Object.prototype.toString)a.toString=b.toString}function t(a,b,c){if(a){if(e.isArray(a))for(var d=0,h=a.length;d<h;d++){if(b.call(c,a[d],d,a)===!1)break}else for(d in a)if(b.call(c,a[d],
d,a)===!1)break;return a}}function u(a,b,c){var d={};v(d,a);b&&c&&(delete d._meta,v(d,c.vj$),d[b]=c);return d}function E(a,b){t(a,function(a,b){if(b!="type"&&s(a,!0)){if(this[b]&&this[b]!==a)throw b+" is already defined in the current namespace";this[b]=a}},b)}function F(a){if(a){if(a.indexOf(".")==-1)return!1}else return!0;for(;(i=a.lastIndexOf("."))>0;)if(a=a.substring(0,i),B[a])return!0;return!1}function x(a){return typeof a=="function"}function w(a){if(typeof a!="string")return a;var b=a.indexOf("<");
if(b>0){var c=a.indexOf(" ");c>0&&c<b&&(b=c);a=a.substring(0,b)}return a}var B={},N=A,H=[];v(e,{_v:R,_hiddenTypes:{},loader:{async:!0,load:function(){}},isArray:function(a){if(!a)return!1;return a.constructor==Array||typeof a=="object"&&a.join&&a.splice},getType:function(a,b){if(a){var a=w(a),c=a.lastIndexOf("$")+1,d=a.lastIndexOf(".")+1,d=(d=c||d)?a.substring(d):a,a=c?a.substring(0,c-1)+"."+d:a,c=B[a];if(!b&&!c){if(c=e.loader.load(a))return c;c=B[a]}if(c)return c.pkg[d]}},mixin:function(a,b){var c=
this.getType(a);if(c&&c.vj$&&c.vj$._vjType==="mtype"){if(c._props)throw"cannot mixin static props to an instance";v(b,c._protos)}},hitch:function(a,b,c){if(!x(b))var d=b,b=a,a=d;return function(){return b.apply(c&&this!=window?this:a,arguments)}},curry:function(a){var b=Array.prototype.slice,c=b.call(arguments,1);return function(){return a.apply(this,c.concat(b.apply(arguments)))}},bind:function(a,b){typeof b=="string"&&(b=a[b]);var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return b.apply(a,
d.concat(c.apply(arguments)))}},create:function(a,b){var c=document.createElement(a);c.tagName=="TEXTAREA"?c.value=b:c.innerHTML=b;return c},make:function(a,b){var c=arguments,d=c.length,h=x(b)&&b.vj$?b:this.getType(b),k={};if(d<2||!h)throw"context and valid type are required";t(a.vj$,function(a,b){x(a)&&a.vj$&&a.vj$._vjType&&(this[b]=a)},k);var j,z=Array.prototype.slice.call(c,2,d);return{protos:function(a){j=a;return this},endType:function(){var b=e.ctype(),c=h.vj$._vjType;if(c==="itype")b.satisfies(h);
else if(c==="ctype")(c=m.get(h))&&!c._completed&&c.complete(),b.inherits(e.getType(h.vj$._class));else throw"incompatible anonomyous type";b.protos(j);b.complete();b=b.endType();c=l.createNoConstruct(b);c.vj$=b.vj$;v(c.vj$,k);(function(){this.base&&this.base.apply(this,arguments)}).apply(c,z);if(c.base&&c._getBase)b=l.tmpFunc,b.prototype=c._getBase(),c.base=new b,c.base._parent=c;c.vj$.parent=h._outer||a;c.vj$.outer=h._outer;j&&j.constructs&&j.constructs.apply(c);return c}}},needs:function(a){a&&
!B[a]&&(C(a),e.loader.load(a))},createArray:function(a,b){var c=[];if(arguments.length>1)for(var d=0;d<b;d++)if(arguments.length>2){for(var h=[a],k=2;k<arguments.length;k++)h[h.length]=arguments[k];c[d]=e.createArray.apply(this,h)}else c[d]=a;return c},isInstanceOf:function(a,b){if(a===null)return!1;var c=s(b);if(!c||c&&b.vj$._vjType!="itype")return a instanceof b;if(!a.vj$)return!1;c=a.getClass();if(o(c,b))return!0;for(var c=c.getName(),d;;)if(c=m.getById(c))if(c=c._inherits,c.length==1){c=c[0];
d=e.getType(c);if(!d)break;if(o(d.clazz,b))return!0}else break;else break;return!1},meta:{_list:{},load:function(a,b){this._list[a+"__rtti"]=b},get:function(a){return this._list[a+"__rtti"]},has:function(a){return this._list[a+"__rtti"]?!0:!1}}});e.NEEDS_IMPL=function(){throw"needs implementation";};e.Object=function(){this.vj$={_class:"vjo.Object",_vjType:"ctype",Object:e.Object,_meta:{}}};e.Object.prototype={_hashCode:-1,getClass:G,hashCode:function(){if(this._hashCode==-1)this._hashCode=++e.Object._hashCounter;
return this._hashCode},equals:function(a){return this===a},toString:function(){return this.getClass().getName()+"@"+this.hashCode().toString(16)}};v(e.Object,{vj$:{_class:"vjo.Object",_vjType:"ctype",Object:e.Object,_meta:{}},_hashCounter:0,isInstance:function(a){return e.isInstanceOf(a,this)}});e.Class=function(a,b){this._name=a;this._type=b||"ctype";this._satisfied=[];this.vj$={_class:"vjo.Class",_vjType:"ctype",Class:e.Class,_meta:{}}};e.Class.prototype=new e.Object;v(e.Class.prototype,{getName:function(){var a=
this._name;return a?a:null},getSimpleName:function(){var a=this.getName(),b=a.lastIndexOf(".");if(b!=-1&&(a=a.substring(b+1)))b=a.lastIndexOf("$"),b>0&&(a=a.substring(b+1));return a},getPackageName:function(){var a=this.getName();if(a!=null){var b=a.lastIndexOf(".");if(b>=0)return a.substring(0,b)}return""},isInterface:function(){return this._type==="itype"},isInstance:function(a){var b=e.getType(this.getName());if(b)return e.isInstanceOf(a,b);return!1},toString:function(){return(this.isInterface()?
"interface ":"class ")+this.getName()},getClass:G,_rtti:null,_metaloaded:!1,getMeta:function(){if(this._rtti==null)if(this._metaloaded)throw"Metadata Not Available Exception";else{var a=e.meta.get(this._name);if(a)this._rtti=new e.TypeMetadata(a()),this._metaloaded=!0;else throw"Metadata Not Available Exception";}return this._rtti},getConstructors:function(){return this.getMeta().getConstructors()},getFields:function(){return this.getMeta().getFields()},getDeclaredFields:function(){return this.getMeta().getDeclaredFields()},
getMethods:function(){return this.getMeta().getMethods()},getDeclaredMethods:function(){return this.getMeta().getDeclaredMethods()},getModifiers:function(){return this.getMeta().getModifiers()},getAnnotations:function(){return this.getMeta().getAnnotations()},getInterfaces:function(){return this.getMeta().getInterfaces()},getVjoType:function(){return e.getType(this.getName())}});v(e.Class,{create:function(a,b){if(!a)return new e.Class(a,b?b:"ctype");var c=H[a];c||(H[a]=c=new e.Class(a,b?b:"ctype"));
return c}});v(e.Class,{forName:function(a){try{var b=eval(a);if(b&&b.clazz)return b.clazz}catch(c){}throw"Type not found for '"+a+"'";},isInstance:function(a){return e.isInstanceOf(a,e.Class)},clazz:e.Class.create("vjo.Class")});e.Object.clazz=e.Class.create("vjo.Object");e.obj=function(a,b){if(!a)throw"Invalid type name";if(!b)return null;var c,d="Invalid type '"+a+"'.";try{c=eval(a)}catch(h){throw d;}if(!c)return d;c=new c;for(var k in b)c[k]=b[k];return c};e.findType=function(a,b){for(var c=a;;){if(c.clazz.meta!=
null&&c.clazz.meta[b]!=null)return c.clazz.meta[b];if(c==a.prototype.constructor)break;else c=a.prototype.constructor}};var y=function(){function a(a){var b=z[a];if(b){for(;b.length>0;)b.pop()();z[a]=null}}function b(a,c,d){var h=k[a];c.push(a);d[a]=!0;if(h&&h.length!==0)for(var a=h.length,e=0;e<a;e++){var j=h[e];d[j]||b(j,c,d)}}function c(a,b,d){if(m._completed[b])return!0;var h=k[b];if(!h||h.length===0)return!0;for(var j=h.length,f=0;f<j;f++){b=h[f];if(e.loader.async){if(!e.getType(b))return d=
b,q[d]||(q[d]=[]),q[d][q[d].length]=a,!1}else if(b===a)return!1;if(!d[b]&&(d[b]=!0,!c(a,b,d)))return!1}return!0}function d(a){var b=k[a];if(b){var d=b.length;if(e.loader.async)return c(a,a,{});else{for(var h=r,j=h.length,f=0;f<d;f++)for(var z=b[f],l=0;l<j;l++)if(h[l]===z)return!1;if(j>0)return c(a,a,{})}}return!0}function h(b){a(b);j[b]&&(j[b].complete(),j[b]=null);var c=f[b];if(c)for(var d=c.length,h=0;h<d;h++){var k=c[h];k&&k.complete()}f[b]=null;l[b]=!0}var k={},j={},z={},r=[],f={},l={},q=[];return{addDep:function(a,
b){if(a){if(!m._completed[b]){var c;c=k[a];c||(c=[],k[a]=c);c[c.length]=b}e.loader.async||(c=r,c.length==0&&c.push(a),c[c.length-1]===a&&c.push(b))}},popDep:function(a,b){if(!e.loader.async){var c=r;c[c.length-1]===b&&c.pop()}},addInner:function(a,b){f[a]||(f[a]=[]);f[a].push(b)},deferNeed:function(a,b){var c=z;c[a]||(c[a]=[]);c[a].push(b)},processNeeds:function(b){a(b)},register:function(a,b){j[a]=b},load:function(a){if(!a||l[a])return!1;var c=k[a];if(!e.loader.async){var j=r,f=j.length;f>0&&j[f-
1]===a&&j.pop()}f=!1;if(c&&d(a)){j=[];for(b(a,j,{});j.length>0;)f=j.pop(),m._completed[f]||h(f);f=!0}(!c||c.length==0)&&h(a);a=q[a];if(!f&&a){c=0;for(f=a.length;c<f;c++)j=a[c],j!=null&&d(j)&&(h(j),a[c]=null)}return!0}}}(),l={create:function(a){if(K[a]===!0)throw"Invalid type name '"+a+"'";var b=function(){var a=m.getById(b.vj$._meta._metaId),d=!b.__donotconstruct;if(a._canDelayInit)a._canDelayInit=!1,a.endType();if(l.shouldAutoConstruct(this,b,a))return d=l.createNoConstruct(b),l.construct(d,arguments)||
d;this.constructor=b;a&&!a._completed&&(a.complete(),t(b.prototype,function(a,b){this[b]=a},this));this.vj$=b.vj$;a=this.vj$._vjType;if(d&&(a=="itype"||a=="mtype"))throw a+" "+this.vj$._class+" cannot be instantiated";l.processInners(this,b.vj$,b.clazz);if(d&&(d=l.construct(this,arguments)))return d;return null};b._name="base";b.vj$={_class:a,_meta:{}};b.isInstance=this.isInstanceFunc;return b},isInstanceFunc:function(a){return e.isInstanceOf(a,this)},shouldAutoConstruct:function(a,b,c){return!(a instanceof
b)&&!b.__donotconstruct&&c&&c._options.autoConstruct},createNoConstruct:function(a){a.__donotconstruct=!0;var b=new a;delete a.__donotconstruct;return b},needs:function(a,b){if(!a||this.vj$._meta._isInner)return this;var c=null,d=!1,h=1;if(typeof a=="string")c=[a],d=b?!0:!1;else if(a instanceof Array)c=a,h=c.length;else return this;for(var k=0;k<h;k++){var j=c[k],f=B[j],r=j.lastIndexOf("."),r=r>-1?j.substring(r+1):j,f=f?f.pkg[r]:null;y.addDep(this.vj$._class,j);f||(f=e.getType(j));y.popDep(this.vj$._class,
j);l.addToNameSpace(this,f,j,r,b,d)}return this},needslib:function(){},addToNameSpace:function(a,b,c,d,h,k){if(h!=="")if(b){if(this._vjType!="mtype"&&!(b.vj$&&b.vj$._vjType=="mtype")){var j=k?h:d,c=!1;if(a.vj$[j]&&a.vj$[j]!==b)if(_bOldSupport)c=!0;else throw"Name collision with type '"+j+"' in need list.";c||(a.vj$[j]=b)}}else y.deferNeed(a.vj$._class,e.curry(function(a,b,c){if((b=e.getType(b))&&b.vj$._vjType!="mtype"){if(c.vj$[a]&&c.vj$[a]!==b)throw"Name collision with "+j+"in need list.";c.vj$[a]=
b}},k?h:d,c,a))},props:function(a){for(var b in a)if(I[b]!==!0){var c=a[b];if(this[b]=c)if(c.vj$){if(c.vj$._meta._isInner&&l.addInner(this,c,"s_inners",b)){if(this.vj$[b])throw"'"+b+"' in type '"+this.vj$._class+"' conflicts with needed type name";var d=u(this.vj$,b,c);c.vj$=d;if(!this.vj$._meta._isInner&&(d=m.get(c))&&!d._name)y.addInner(this.vj$._class,d),d=this.vj$._class,l.updateInners(d,d+"."+b,c,!0)}}else if(x(c)&&!c._name)c._name=b}if(a.toString!=Object.prototype.toString)this.toString=a.toString;
return this},protosHandler:function(a,b){return function(){var c=this.base,d=!1,h,k=this.vj$.outer;l.setBase(this,b);try{h=l.execRealFn(a,arguments,this,b,k)}catch(e){d=e}this.base=c;if(d)throw d;return h}},protos:function(a){if(a){for(var b in a)if(b!=="base"){var c=a[b];if(c){var d=this.prototype[b],h=s(c);if(d&&l.isValidProto(b,c,d)&&!h)this.prototype[b]=l.protosHandler(c,this);else{if(h&&c.vj$._meta._isInner&&!this.vj$._meta._isInner&&(d=m.getById(c.vj$._meta._metaId))&&!d._name)y.addInner(this.vj$._class,
d),d=this.vj$._class,l.updateInners(d,d+"."+b,c,!1);this.prototype[b]=c}if(h){if(c.vj$._meta._isInner&&l.addInner(this,c,"_inners",b)&&this.vj$[b])throw"'"+b+"' in type '"+this.vj$._class+"' conflicts with needed type name";}else if(x(c)&&!c._name)c._name=b}else this.prototype[b]=c}if(a.toString!=Object.prototype.toString)this.prototype.toString=a.toString;return this}},isValidProto:function(a,b,c){return x(c)&&a.indexOf("constructs")!=0&&(a.indexOf("_ovld")===-1||a.indexOf("_ovld")!=a.length-5)&&
!s(c)&&x(b)},satisfies:function(a,b){var c=[],c=a instanceof Array?a:[a];t(c,function(a){var a=w(a),c;if(s(a)){c=a;var k=c.vj$._class||"",j=k.lastIndexOf(".");(k=j>-1?k.substring(j+1):k)&&(this.vj$[k]=c)}if(c=c?c:e.getType(a)){b||this.clazz._satisfied.push(c);for(var f in c)a=c[f],I[f]!==!0&&!this[f]&&(this[f]=a)}},this);return this},inherits:function(a,b){if(a==="vjo.Object"||a===e.Object)return b&&l.createInherits(this,e.Object),this;a=w(a);if(!b&&O[a]===!0)throw"Cannot inherit from '"+a+"'";var c;
if(s(a)){c=a;var d=c.vj$._class||"",h=d.lastIndexOf(".");(d=h>-1?d.substring(h+1):d)&&(this.vj$[d]=c)}else c=this.vj$[a]||e.getType(a);s(c)&&((d=m.getById(c.vj$._meta._metaId))&&!d._completed&&d.complete(),l.createInherits(this,c));return this},setBase:function(a,b){a.base=b.prototype._getBase?b.prototype._getBase():null;if(a.base)a.base._parent=a},createInherits:function(a,b){var c=this.createNoConstruct(b);c.constructs=null;c.constructor=a;if(b===e.Object)c.base=this.emptyFunc,a.prototype=c,c._getBase=
this.selfFunc;else{var d=b.prototype,h={};h.vj$=b.vj$;if(d._getBase&&d._getBase()._constructs)h._constructs=!0;c.base=function(){var a=this.base,c=b.prototype,d=c._getBase,h=c.constructs;if(c.base)this.base=c.base;h=h?h.toString():"";h=h.indexOf("this.base(")===-1&&h.indexOf("this.constructs")===-1;d&&d()._constructs&&h&&this.base();if(c.constructs){d=this.vj$._meta._isInner;try{l.execRealFn(c.constructs,arguments,this,b,d)}catch(k){throw k;}}this.base=a};c._getBase=function(){return h};var k=e.Object.prototype,
j;for(j in d)if(j!=="toString"){var f=d[j],r=x(f);if(j==="constructs"&&r){if(f.length===0)h._constructs=!0}else if(P[j]!==!0)if(r&&!f.vj$&&k[j]!==f&&!(f instanceof RegExp)){if(r=this.createBaseRef(b,f,a),h[j]=r,!f.__isChained)c[j]=this.hasBaseCall(f,j)?r:this.createChainedMethod(b,f),c[j].__isChained=!0}else{if(s(f)&&f.vj$._meta._isInner){r=a.vj$._meta;if(!r._inners)r._inners={};r._inners[j]=f}c[j]=f}}if(h.toString!=e.Object.prototype.toString)h.toString=this.createBaseRef(b,d.toString,a);a.prototype=
c}},createChainedMethod:function(a,b){return function(){try{return this.vj$._vjType==="etype"?l.execRealFn(b,arguments,this,a,!0):l.execRealFn(b,arguments,this,a)}catch(c){throw c;}}},emptyFunc:function(){},selfFunc:function(){return this},hasBaseCall:function(a,b){return a.toString().indexOf("this.base."+b+"(")!=-1},createBaseRef:function(a,b){return function(){var c=this._parent?this._parent:this,d,h=!1,k=c.base;l.setBase(c,a);try{d=l.execRealFn(b,arguments,c,a)}catch(e){h=e}c.base=k;if(h)throw h;
return d}},updateInners:function(a,b,c,d){if(c&&c.vj$){var h=c.vj$,k=c.clazz;h._class=b;var e=b.lastIndexOf("."),e=b.substring(e+1);h[e]=c;if(k&&a)if(b.indexOf(a)==0){for(var f=b.replace(a,"");f.indexOf(".")>-1;)f=f.replace(".","$");k._name=a+f}else k._name=a+"$"+e;C(b,!0).pkg[e]=c;(c=d?h._meta.s_inners:h._meta._inners)&&t(c,function(c,e){t(h,function(a,b){!this[b]&&a&&a.vj$&&(this[b]=a)},c.vj$);var k=m.getById(c.vj$._meta._metaId);c.vj$&&k&&y.addInner(a,k);l.updateInners(a,b+"."+e,c,d)})}},addInner:function(a,
b,c,d){if(!a||!b||!d)return!1;var h=b.vj$;if(!h)return!1;if(s(b)&&h._meta._isInner){a=a.vj$;if(!h._class&&a._class){h=h._class=a._class+"."+d;if(b.clazz)b.clazz._name=h,H[h]=b.clazz;C(h,!0).pkg[d]=b}c&&(a._meta[c]||(a._meta[c]={}),a._meta[c][d]=b);return!0}return!1},execRealFn:function(a,b,c,d,h){var e=!1,f,l={vj$:c.vj$};if(!h)c.vj$=(c.base&&c.base.vj$&&d.vj$._class==c.base.vj$._class?c.base:d).vj$;try{f=a.apply(c,b)}catch(r){e=r}if(!h)c.vj$=l.vj$;if(e)throw e;return f},createClazz:function(a){var b=
a.clazz,c=a.vj$._class;if(b&&b._name)c=b._name;a.clazz=e.Class.create(c,a.vj$._vjType);if(b)a.clazz._satisfied=b._satisfied;a.prototype?a.prototype.getClass=G:a.getClass=G;a.vj$.type=a},canCallBase:function(a){var b=a.constructs.toString();return a.base&&b.indexOf("this.base(")===-1&&b.indexOf("this.constructs")===-1},tmpFunc:function(){},construct:function(a,b){var c=a.constructs,d,h,e=!1;if(a.base&&a._getBase)d=function(){},d.prototype=a._getBase(),e=d.prototype._constructs||!1;e&&(!c||this.canCallBase(a))&&
a.base();c&&(h=c.apply(a,b));if(d)a.base=new d,a.base._parent=a;if(h)return h},processInners:function(a,b){var c=b?b._meta._inners:null;if(b&&c&&c.length!=0&&a)for(var d in c)a[d]=e.curry(function(a,c,d){var e=a.vj$._class+"."+d,f=m.getById(c.vj$._meta._metaId);f&&f.complete();var f=l.createNoConstruct(c),q=u(b,d,c);f.vj$=q;f.vj$.outer=a;l.processInners(f,q,c.clazz);c.vj$._class=f.vj$._class=e;c.clazz&&!c.clazz._name?(c.clazz._name=f.vj$._class,H[e]=c.clazz):l.createClazz(c);l.construct(f,Array.prototype.slice.call(arguments,
3));if(f.vj$.outer&&f.base.vj$)q=u(f.vj$),v(q,f.base.vj$),f.base.vj$=q;return f},a,c[d],d),a[d]._outer=a,a[d].vj$=c[d].vj$}},J=typeof console!="undefined";v(e,{sysout:{print:function(){J&&console.info.apply(this,arguments)},println:function(){J&&console.info.apply(this,arguments)},printStackTrace:function(){}},syserr:{print:function(){J&&console.warn.apply(this,arguments)},println:function(){J&&console.warn.apply(this,arguments)},printStackTrace:function(){}},jsunit:{assertEquals:function(){},assertTrue:function(){},
assertFalse:function(){},assertNotNull:function(){}}});m.prototype={init:function(a){this._cfg={satisfiesFn:l.satisfies,inheritsFn:l.inherits,protosFn:l.protos,postDefFn:l.tmpFunc,typeDef:null,baseType:"vjo.Object"};a&&v(this._cfg,a)},setup:function(){var a=this._name,b=this._type=this._cfg.typeDef||l.create(a,"itype"===this._kind);b.vj$._vjType=this._kind||"ctype";this._canDelayInit=!0;if(this._isInner)a=m.id(),b.vj$._meta._isInner=!0;else{var c=this._kind=="ftype"?C(a,!1,e._hiddenTypes):C(a);if(!c.pkg[c.className])c.pkg[c.className]=
this._type;b.vj$[c.className]=b;y.register(a,this);this._isDup=m.getById(a)!=null}this._isDup||m.put(this,a);b._inherits=null;l.createClazz(b);b.vj$._meta._metaId=a},needs:function(){l.needs.apply(this._type,arguments);return this},options:function(a){if(a)for(var b in a)if(this._options[b]=a[b],b=="metatype"&&a[b])this._isMetaType=!0;return this},satisfies:function(a){var b=[],b=a instanceof Array?a:[a];t(b,function(a){var b=w(a);this.needs(b);l.needs.call(this._type,b);this._satisfies.push(a)},
this);return this},props:function(a){this._canDelayInit=!1;if(this._props)throw"multiple props blocks are not allowed";this._props=a;l.props.apply(this._type,arguments);return this},protos:function(a){if(this._protos)throw"multiple protos blocks are not allowed";this._protos=a;return this},inherits:function(a){var b=[],b=a instanceof Array?a:[a];t(b,function(a){this.needs(w(a));this._inherits.push(a)},this);return this},mixin:function(a){var b=[],b=a instanceof Array?a:[a];t(b,function(a){this.needs(w(a));
this._mixins.push(a)},this);return this},inits:function(a){this._canDelayInit=!1;this._inits=a;return this},globals:function(a,b){this._canDelayInit=!1;this._globals=a;this._scopeForGlobals=b;return this},validateAndMerge:function(a,b){var c=b?a[b]:a;return function(a,b){if(c[b])throw"collision when mixing in '"+b+"' into "+this._name;else c[b]=a}},mergeMixins:function(a){for(var b=this._mixins,c=0;c<b.length;c++){var d=e.getType(b[c]);if(!d||!d.vj$||d.vj$._vjType!="mtype")throw b[c]+"is not a valid mtype.";
var h=d._expects;sats=d._satisfiers;if(!this._protos)this._protos={};if(!this._props)this._props={};E(d.vj$,this._type.vj$);var f=d.vj$._class,j=f.lastIndexOf("."),f=j!=-1?f.substring(j+1):f;if(this._type.vj$[f])throw f+" is already defined in the current namespace";else this._type.vj$[f]=this._type;t(d._protos,this.validateAndMerge(this,"_protos"),this);t(d._props,this.validateAndMerge(a,"_props"),this);for(d=0;d<sats.length;d++)this._satisfies.push(sats[c]);h&&this._expects.push(h)}},completeSatisfies:function(){this._satisfies.length>
0&&this._cfg.satisfiesFn.call(this._type,this._satisfies);this._expects.length>0&&this._cfg.satisfiesFn.call(this._type,this._expects,!0)},completeInherits:function(){var a=this._inherits.length;if(a>0){if(this._kind!="itype"&&a>1)throw"type can only inherit from one type";for(var b=0;b<a;b++)this._cfg.inheritsFn.call(this._type,this._inherits[b])}else this._kind!="itype"&&this._cfg.inheritsFn.call(this._type,this._cfg.baseType,!0)},completeDef:function(){this._kind!="ftype"&&this._protos&&this._cfg.protosFn.call(this._type,
this._protos);this._cfg.postDefFn.call(this);this._globals&&!this._isDup&&this.__initGbs(this._globals,this._scopeForGlobals);this._inits&&!this._isDup&&this._inits.call(this._type)},__initGbs:function(a,b){var c=b;if(c==void 0||c==null)c=L;t(a,function(a,b){if(typeof a!="undefined"){if(this[b]&&this[b]!==a)throw b+" is already defined in the current namespace";this[b]=a}},c)},complete:function(){if(this._completed)return this;this._completed=!0;m._completed[this._name]=!0;if(this._kind!="ftype"){D(this._type.vj$);
if(this._mixins.length>0){var a={_props:{}};this.mergeMixins(a);l.props.call(this._type,a._props)}this.completeSatisfies();this.completeInherits()}this.completeDef();return this},typesAvail:function(a){for(var b=0;b<a.length;b++)if(!s(a[b]))return!1;return!0},canComplete:function(){var a=this._inits==null&&this.typesAvail(this._inherits);a&&(a=this.typesAvail(this._satisfies));a&&(a=this.typesAvail(this._mixins));return a},endType:function(){if(this._isMetaType)return f(this._name),this._type;if(this._isInner)this.canComplete()&&
this.complete();else{if(this._canDelayInit)return this._type;y.load(this._name);e.validateType&&e.validateType(this._type)}return this._type}};v(m,{_count:0,_pre:"tmp",_reg:{},_completed:{},id:function(){return this._pre+this._count++},put:function(a,b){this._reg[b?b:this._pre+this._count++]=a},get:function(a){var b;return s(a)?this._reg[a.vj$._meta._metaId]:(b=e.getType(a))?this._reg[b.vj$._meta._metaId]:this._reg[a]},getById:function(a){return this._reg[a]}});e.ctype=function(a){a=w(a);return new m(a)};
e.itype=function(a){a=w(a);a=new m(a,"itype",{inheritsFn:function(a){if(a=this.vj$[a]?this.vj$[a]:this.vj$.b&&this.vj$.b[a]?this.vj$.b[a]:e.getType(a))for(var c in a){var d=a[c];I[c]!==!0&&!this[c]&&(this[c]=d)}return this}});a._type.isInstance=function(a){return e.isInstanceOf(a,this)};return a};e.ftype=function(a){a=w(a);return new m(a,"ftype",{postDefFn:function(){var a=this._type,c=a._invoke_;if(!x(c))throw"missing required method _invoke_ in ftype";delete c._name;this._type=function(){return function(){return q(c,
arguments)}}();for(var d in a)d=="_invoke_"||d=="prototype"||d=="undefined"||d=="isInstance"||d=="_inherits"||d=="clazz"||d=="_name"||(this._type[d]=a[d]);a=C(this._name,!0);a.pkg[a.className]=this._type;this._type.vj$[a.className]=this._type}})};e.mtype=function(a){var a=w(a),b=new p(a);if(!a||F(a))b.vj$._meta._isInner=!0;if(!a)return b;a=C(a);return a.pkg[a.className]?b:a.pkg[a.className]=b};e.etype=function(a){a=w(a);Q();var b=function(a){this.vj$=b.vj$;if(a!=!1){if(!this.constructs)throw"'"+this.vj$._class+
"' cannot be instantiated";this.constructs.apply(this,a)}};b.vj$={_class:a,_vjType:"etype",_meta:{}};b.isInstance=function(a){return e.isInstanceOf(a,this)};a=new m(a,"etype",{typeDef:b,baseType:"vjo.Enum",postDefFn:function(){this._type.prototype.toString=e.Enum.prototype.name;this._eVals&&this._type.values.call(this._type,this._eVals)}});v(a,{inherits:function(){throw"Invalid type definition. etype cannot be inheritted from another type";},values:function(a){this._eVals=a;return this}});var c=a._type;
c._enums=[];c.from=e.Enum.from;c._nativeValueOf=c.valueOf;c.valueOf=e.Enum.from;c.values=function(a){if(arguments.length==0)if(this._enums.slice)return this._enums.slice();else{for(var b=[],f=0;f<this._enums.length;f++)this._enums[f]&&(b[f]=this._enums[f]);return b}else{var e=0;if(typeof a=="string"&&a.length>0){for(;a.indexOf(" ")>-1;)a=a.replace(" ","");if(a.indexOf(",")>0){b=a.split(",");if(b[0]&&b[0].indexOf(":")>0)throw"Invalid labels for etype values: "+b[0];for(var f=0,l=b.length;f<l;f++){var q=
b[f];b[f].indexOf(":")>-1&&(q=b[f].split(":")[0]);this._enums[this._enums.length]=new c(!1);this._enums[this._enums.length-1]._name=q}}else this._enums[0]=new c(!1),this._enums[0]._name=a}else for(f in a)this._enums[this._enums.length]=new c(a[f]),this._enums[this._enums.length-1]._name=f;f=0;for(l=this._enums.length;f<l;f++)if(this._enums[f]){b=this._enums[f]._name;if(this[b])throw"Invalid prop member. Cannot use etype value as prop member.";this[b]=this._enums[f];this[b]._ord=e++}}c.prototype.constructs=
null;return this};return a};e.otype=function(){return{defs:function(){return this},endType:function(){}}};var I={},P={},M={},K={},O={};t("props protos inherits prototype inits satisfies mixin _inherits _satisfiers singleton isInstance vj$".split(" "),function(a){this[a]=!0},I);t("constructs getClass _getBase base vj$".split(" "),function(a){this[a]=!0},P);t("props protos _props _protos vj$ _expects expects _satisfiers satisfies endType".split(" "),function(a){this[a]=!0},M);t("vjo.Class vjo.Object".split(" "),
function(a){this[a]=!0},K)}function S(e){function A(f,e){this.identifier=f;this.moduleCache=(this.parent=e)?e.moduleCache:{};this.scope=this.exports=this.source=this.url=null;this.loaded=!1}function m(f,e,m,s){this.name=f;this.resolver=e;this.fetcher=m;this.evaluator=s}function u(f){if(f.slice(0,2)==="./"||f.slice(0,3)==="../")return!0;return!1}var s=new A("root",null);s.scope=e;m.prototype.getScope=function(){return e};m.prototype.loadModule=function(f){if(!f)throw Error("module is null");try{if(!f.url)f.url=
this.resolver.resolve(f.identifier,f.parent.url);if(!f.url)return!1;if(!f.source)f.source=this.fetcher.fetch(f.url);if(!f.source)return!1;var q=this.getScope(f);if(q&&q!==e)f.scope=q;if(q.exports)f.exports=q.exports;this.evaluator.evaluate(f.identifier,f.source,q);return!0}catch(m){return!1}};_cacheMgr={getModule:function(f,e){if(u(f))return null;return e?e.moduleCache[f]:s.moduleCache[f]},addModule:function(f){u(f.identifier)||(f.parent.moduleCache[f.identifier]=f)}};var o=function(){var f={};return{load:function(e,
m){var o=m;o||(o=s);var p=_cacheMgr.getModule(e,o);if(p)return p.exports;p=o?new A(e,o):new A(e,s);for(n in f)if(f[n].loadModule(p))return _cacheMgr.addModule(p),p.exports;return null},addMgr:function(e){f[e.name]=e},getMgr:function(e){return f[e]}}}(),p={name:"VjetModuleMgmt",version:"1.0",addNativeModule:function(f,e){var m=s?new A(f,s):new A(f,s);m.exports=e;m.moduleCache[f]=m;m.loaded=!0},addModuleMgr:function(f){o.addMgr(f)},getModuleMgr:function(f){return o.getMgr(f)},setCacheMgr:function(f){_cacheMgr=
f},getDispatcher:function(){return o}};p.Module=A;p.ModuleManager=m;return p}var R=1.5;if(o){var p=S(this),u={};F(u,this);p.addNativeModule("VJET",{vjo:u});var E=new p.ModuleManager("VJET");E.loadModule=function(e){try{return p.ModuleManager.prototype.loadModule.call(E,e)?(e.exports=u.getType(e.identifier,!0),!0):!1}catch(o){return!1}};p.addModuleMgr(E);u.loader={async:!0,load:function(e){return p.getDispatcher().load(e)}};o=new p.ModuleManager("CommonJS");_require=function(e,o){return p.getDispatcher().load(e,
o)};o.getScope=function(e){function o(e){if(!e)return null;if(e.scope)return e.scope;return o(e.parent)}var m={},p=o(e.parent);for(g in p)m[g]=p[g];m.module=e;m.require=function(m){return _require(m,e)};m.exports={};return m};p.addModuleMgr(o);this.require=function(e){return _require(e)};this.require.getModuleMgr=p.getModuleMgr;this.vjo=u}else{var u={},L=typeof window!="undefined"?window:this,o=L.vjo;if(!o||!o._v||o._v<VERSION)L.vjo=u;F(u,this)}}).call(this,!1);